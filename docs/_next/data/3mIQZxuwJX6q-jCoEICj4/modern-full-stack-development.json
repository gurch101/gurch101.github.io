{"pageProps":{"post":{"id":"modern-full-stack-development","title":"Modern Full Stack Development","category":"book summary","description":"Modern Full Stack Development Summary","type":"notes","date":"Sat Oct 09 2021","contentHtml":"<h1>Node</h1>\n<ul>\n<li>single-threaded, event-driven, with background workers. Node spawns a thread for I/O, event queue on main thread handles responses.</li>\n<li>Uses V8 JS engine</li>\n</ul>\n<h3>NPM</h3>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> init\n\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token comment\"># install stuff in package.json</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token operator\">&#x3C;</span>packagename<span class=\"token operator\">></span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save <span class=\"token operator\">&#x3C;</span>packagename<span class=\"token operator\">></span> <span class=\"token comment\"># install and update package.json</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save <span class=\"token operator\">&#x3C;</span>packagename<span class=\"token operator\">></span> <span class=\"token comment\"># update devDependencies in package.json</span>\n<span class=\"token comment\"># updates respect semver version</span>\n<span class=\"token function\">npm</span> update <span class=\"token operator\">&#x3C;</span>packagename<span class=\"token operator\">></span>\n<span class=\"token function\">npm</span> update <span class=\"token comment\"># update all</span>\n<span class=\"token function\">npm</span> uninstall <span class=\"token operator\">&#x3C;</span>packagename<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># report dependencies with vulnerabilities</span>\n<span class=\"token function\">npm</span> audit\n<span class=\"token function\">npm</span> audit fix\n<span class=\"token function\">npm</span> audit fix --dry-run\n\n<span class=\"token comment\"># reorg node_modules to remove dup shared packages</span>\n<span class=\"token function\">npm</span> dedupe\n\n<span class=\"token function\">npm</span> <span class=\"token function\">ls</span> --depth<span class=\"token operator\">=</span><span class=\"token number\">0</span>\n</code></pre></div>\n<h3>SemVer</h3>\n<p>major.minor.patch</p>\n<ul>\n<li>\n<p>major: backwards-incompatible changes</p>\n</li>\n<li>\n<p>minor: backwards-compatible + bug fixes</p>\n</li>\n<li>\n<p>patch: bug fixes</p>\n</li>\n<li>\n<p>for \"~\" (ie ~1.0.1), npm will grab latest patch</p>\n</li>\n<li>\n<p>for \"^\" (ie ^1.0.1), npm will grab latest minor</p>\n</li>\n<li>\n<p>for \"*\", npm will grab latest version</p>\n</li>\n</ul>\n<h3>Axios Tips</h3>\n<p>request is sent in application/json. If you need form-urlencoded, do this in a browser:</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> params <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">URLSearchParams</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nparams<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">'param1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'value1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nparams<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">'param2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'value2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\naxios<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/foo'</span><span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Cancel tokens:</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token maybe-class-name\">CancelToken</span> <span class=\"token operator\">=</span> axios<span class=\"token punctuation\">.</span><span class=\"token property-access\"><span class=\"token maybe-class-name\">CancelToken</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> source <span class=\"token operator\">=</span> <span class=\"token maybe-class-name\">CancelToken</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">source</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\naxios<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/user/12345'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  cancelToken<span class=\"token operator\">:</span> source<span class=\"token punctuation\">.</span><span class=\"token property-access\">token</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword control-flow\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">thrown</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>axios<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">isCancel</span><span class=\"token punctuation\">(</span>thrown<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Request canceled'</span><span class=\"token punctuation\">,</span> thrown<span class=\"token punctuation\">.</span><span class=\"token property-access\">message</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// handle error</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\naxios<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/user/12345'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'new name'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  cancelToken<span class=\"token operator\">:</span> source<span class=\"token punctuation\">.</span><span class=\"token property-access\">token</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// cancel the request (the message parameter is optional)</span>\nsource<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">cancel</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Operation canceled by the user.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Client with shared props</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Set config defaults when creating the instance</span>\n<span class=\"token keyword\">const</span> instance <span class=\"token operator\">=</span> axios<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  baseURL<span class=\"token operator\">:</span> <span class=\"token string\">'https://api.example.com'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Alter defaults after instance has been created</span>\ninstance<span class=\"token punctuation\">.</span><span class=\"token property-access\">defaults</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">headers</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">common</span><span class=\"token punctuation\">[</span><span class=\"token string\">'Authorization'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token constant\">AUTH_TOKEN</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Questions:\ndoes npm update/uninstall require --save flag to update package.json?\nwhat is the default behavior of npm install for versioning? does it at ~ or ^?\nserve file from filesystem without letting user traverse directories - create read/write file templates\nhttp 1 to 2</p>\n<p>CHAPTER 3</p>\n"}},"__N_SSG":true}